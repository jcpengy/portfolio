{"mappings":"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","sources":["./node_modules/@parcel/scope-hoisting/lib/helpers.js","./packages/@react-stately/list/src/ListCollection.ts","./packages/@react-stately/list/src/useListState.ts","./packages/@react-stately/list/src/useSingleSelectListState.ts"],"sourcesContent":["function $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n}\n\nfunction $parcel$exportWildcard(dest, source) {\n  Object.keys(source).forEach(function(key) {\n    if (key === 'default' || key === '__esModule') {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function get() {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n}\n\nfunction $parcel$missingModule(name) {\n  var err = new Error(\"Cannot find module '\" + name + \"'\");\n  err.code = 'MODULE_NOT_FOUND';\n  throw err;\n}\n\nvar $parcel$global =\n  typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n    ? self\n    : typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined'\n    ? global\n    : {};\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Collection, Node} from '@react-types/shared';\nimport {Key} from 'react';\n\nexport class ListCollection<T> implements Collection<Node<T>> {\n  private keyMap: Map<Key, Node<T>> = new Map();\n  private iterable: Iterable<Node<T>>;\n  private firstKey: Key;\n  private lastKey: Key;\n\n  constructor(nodes: Iterable<Node<T>>) {\n    this.iterable = nodes;\n\n    let visit = (node: Node<T>) => {\n      this.keyMap.set(node.key, node);\n\n      if (node.childNodes && node.type === 'section') {\n        for (let child of node.childNodes) {\n          visit(child);\n        }\n      }\n    };\n\n    for (let node of nodes) {\n      visit(node);\n    }\n\n    let last: Node<T>;\n    let index = 0;\n    for (let [key, node] of this.keyMap) {\n      if (last) {\n        last.nextKey = key;\n        node.prevKey = last.key;\n      } else {\n        this.firstKey = key;\n        node.prevKey = undefined;\n      }\n\n      if (node.type === 'item') {\n        node.index = index++;\n      }\n\n      last = node;\n\n      // Set nextKey as undefined since this might be the last node\n      // If it isn't the last node, last.nextKey will properly set at start of new loop\n      last.nextKey = undefined;\n    }\n\n    this.lastKey = last?.key;\n  }\n\n  *[Symbol.iterator]() {\n    yield* this.iterable;\n  }\n\n  get size() {\n    return this.keyMap.size;\n  }\n\n  getKeys() {\n    return this.keyMap.keys();\n  }\n\n  getKeyBefore(key: Key) {\n    let node = this.keyMap.get(key);\n    return node ? node.prevKey : null;\n  }\n\n  getKeyAfter(key: Key) {\n    let node = this.keyMap.get(key);\n    return node ? node.nextKey : null;\n  }\n\n  getFirstKey() {\n    return this.firstKey;\n  }\n\n  getLastKey() {\n    return this.lastKey;\n  }\n\n  getItem(key: Key) {\n    return this.keyMap.get(key);\n  }\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Collection, CollectionBase, MultipleSelection, Node} from '@react-types/shared';\nimport {Key, useEffect, useMemo} from 'react';\nimport {ListCollection} from './ListCollection';\nimport {SelectionManager, useMultipleSelectionState} from '@react-stately/selection';\nimport {useCollection} from '@react-stately/collections';\n\nexport interface ListProps<T> extends CollectionBase<T>, MultipleSelection {\n  /** Filter function to generate a filtered list of nodes. */\n  filter?: (nodes: Iterable<Node<T>>) => Iterable<Node<T>>\n}\nexport interface ListState<T> {\n  /** A collection of items in the list. */\n  collection: Collection<Node<T>>,\n\n  /** A set of items that are disabled. */\n  disabledKeys: Set<Key>,\n\n  /** A selection manager to read and update multiple selection state. */\n  selectionManager: SelectionManager\n}\n\n/**\n * Provides state management for list-like components. Handles building a collection\n * of items from props, and manages multiple selection state.\n */\nexport function useListState<T extends object>(props: ListProps<T>): ListState<T>  {\n  let {\n    filter\n  } = props;\n\n  let selectionState = useMultipleSelectionState(props);\n  let disabledKeys = useMemo(() =>\n    props.disabledKeys ? new Set(props.disabledKeys) : new Set<Key>()\n  , [props.disabledKeys]);\n\n  let factory = nodes => filter ? new ListCollection(filter(nodes)) : new ListCollection(nodes as Iterable<Node<T>>);\n\n  let collection = useCollection(props, factory, null, [filter]);\n\n  // Reset focused key if that item is deleted from the collection.\n  useEffect(() => {\n    if (selectionState.focusedKey != null && !collection.getItem(selectionState.focusedKey)) {\n      selectionState.setFocusedKey(null);\n    }\n  }, [collection, selectionState.focusedKey]);\n\n  return {\n    collection,\n    disabledKeys,\n    selectionManager: new SelectionManager(collection, selectionState)\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {CollectionBase, SingleSelection} from '@react-types/shared';\nimport {Key, useMemo} from 'react';\nimport {ListState, useListState} from './useListState';\nimport {Node} from '@react-types/shared';\nimport {useControlledState} from '@react-stately/utils';\n\nexport interface SingleSelectListProps<T> extends CollectionBase<T>, SingleSelection {\n  /** Filter function to generate a filtered list of nodes. */\n  filter?: (nodes: Iterable<Node<T>>) => Iterable<Node<T>>\n}\nexport interface SingleSelectListState<T> extends ListState<T> {\n  /** The key for the currently selected item. */\n  readonly selectedKey: Key,\n\n  /** Sets the selected key. */\n  setSelectedKey(key: Key): void,\n\n  /** The value of the currently selected item. */\n  readonly selectedItem: Node<T>\n}\n\n/**\n * Provides state management for list-like components with single selection.\n * Handles building a collection of items from props, and manages selection state.\n */\nexport function useSingleSelectListState<T extends object>(props: SingleSelectListProps<T>): SingleSelectListState<T>  {\n  let [selectedKey, setSelectedKey] = useControlledState(props.selectedKey, props.defaultSelectedKey ?? null, props.onSelectionChange);\n  let selectedKeys = useMemo(() => selectedKey != null ? [selectedKey] : [], [selectedKey]);\n  let {collection, disabledKeys, selectionManager} = useListState({\n    ...props,\n    selectionMode: 'single',\n    disallowEmptySelection: true,\n    selectedKeys,\n    onSelectionChange: (keys: Set<Key>) => {\n      let key = keys.values().next().value;\n\n      // Always fire onSelectionChange, even if the key is the same\n      // as the current key (useControlledState does not).\n      if (key === selectedKey && props.onSelectionChange) {\n        props.onSelectionChange(key);\n      }\n\n      setSelectedKey(key);\n    }\n  });\n\n  let selectedItem = selectedKey != null\n    ? collection.getItem(selectedKey)\n    : null;\n\n  return {\n    collection,\n    disabledKeys,\n    selectionManager,\n    selectedKey,\n    setSelectedKey,\n    selectedItem\n  };\n}\n"],"names":["$parcel$interopDefault","a","__esModule","default","Symbol","iterator","ListCollection","constructor","nodes","keyMap","Map","iterable","firstKey","lastKey","visit","node","set","key","childNodes","type","child","last","index","nextKey","prevKey","undefined","size","getKeys","keys","getKeyBefore","get","getKeyAfter","getFirstKey","getLastKey","getItem","useListState","props","filter","selectionState","useMultipleSelectionState","disabledKeys","useMemo","Set","factory","collection","useCollection","useEffect","focusedKey","setFocusedKey","selectionManager","SelectionManager","useSingleSelectListState","selectedKey","setSelectedKey","useControlledState","defaultSelectedKey","onSelectionChange","selectedKeys","selectionMode","disallowEmptySelection","values","next","value","selectedItem"],"version":3,"file":"main.js.map"}