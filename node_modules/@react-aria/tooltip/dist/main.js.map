{"mappings":"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","sources":["./node_modules/@parcel/scope-hoisting/lib/helpers.js","./packages/@react-aria/tooltip/src/useTooltip.ts","./packages/@react-aria/tooltip/src/useTooltipTrigger.ts"],"sourcesContent":["function $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n}\n\nfunction $parcel$exportWildcard(dest, source) {\n  Object.keys(source).forEach(function(key) {\n    if (key === 'default' || key === '__esModule') {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function get() {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n}\n\nfunction $parcel$missingModule(name) {\n  var err = new Error(\"Cannot find module '\" + name + \"'\");\n  err.code = 'MODULE_NOT_FOUND';\n  throw err;\n}\n\nvar $parcel$global =\n  typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n    ? self\n    : typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined'\n    ? global\n    : {};\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaTooltipProps} from '@react-types/tooltip';\nimport {filterDOMProps, mergeProps} from '@react-aria/utils';\nimport {HTMLAttributes} from 'react';\n\ninterface TooltipAria {\n  /**\n   * Props for the tooltip element.\n   */\n  tooltipProps: HTMLAttributes<HTMLElement>\n}\n\n/**\n * Provides the accessibility implementation for a Tooltip component.\n */\nexport function useTooltip(props: AriaTooltipProps): TooltipAria {\n  let domProps = filterDOMProps(props, {labelable: true});\n\n  return {\n    tooltipProps: mergeProps(domProps, {\n      role: 'tooltip'\n    })\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusEvents} from '@react-types/shared';\nimport {getInteractionModality, HoverProps, isFocusVisible, PressProps, usePress} from '@react-aria/interactions';\nimport {HTMLAttributes, RefObject, useEffect, useRef} from 'react';\nimport {mergeProps, useId} from '@react-aria/utils';\nimport {TooltipTriggerProps} from '@react-types/tooltip';\nimport {TooltipTriggerState} from '@react-stately/tooltip';\nimport {useFocusable} from '@react-aria/focus';\nimport {useHover} from '@react-aria/interactions';\n\ninterface TooltipTriggerAria {\n  /**\n   * Props for the trigger element.\n   */\n  triggerProps: HTMLAttributes<HTMLElement> & PressProps & HoverProps & FocusEvents,\n\n  /**\n   * Props for the overlay container element.\n   */\n  tooltipProps: HTMLAttributes<HTMLElement>\n}\n\n/**\n * Provides the behavior and accessibility implementation for a tooltip trigger, e.g. a button\n * that shows a description when focused or hovered.\n */\nexport function useTooltipTrigger(props: TooltipTriggerProps, state: TooltipTriggerState, ref: RefObject<HTMLElement>) : TooltipTriggerAria {\n  let {\n    isDisabled,\n    trigger\n  } = props;\n\n  let tooltipId = useId();\n\n  let isHovered = useRef(false);\n  let isFocused = useRef(false);\n\n  let handleShow = () => {\n    if (isHovered.current || isFocused.current) {\n      state.open(isFocused.current);\n    }\n  };\n\n  let handleHide = () => {\n    if (!isHovered.current && !isFocused.current) {\n      state.close();\n    }\n  };\n\n  useEffect(() => {\n    let onKeyDown = (e) => {\n      if (ref && ref.current) {\n        // Escape after clicking something can give it keyboard focus\n        // dismiss tooltip on esc key press\n        if (e.key === 'Escape') {\n          state.close();\n        }\n      }\n    };\n    if (state.isOpen) {\n      document.addEventListener('keydown', onKeyDown, true);\n      return () => {\n        document.removeEventListener('keydown', onKeyDown, true);\n      };\n    }\n  }, [ref, state]);\n\n  let onHoverStart = () => {\n    if (trigger === 'focus') {\n      return;\n    }\n    // In chrome, if you hover a trigger, then another element obscures it, due to keyboard\n    // interactions for example, hover will end. When hover is restored after that element disappears,\n    // focus moves on for example, then the tooltip will reopen. We check the modality to know if the hover\n    // is the result of moving the mouse.\n    if (getInteractionModality() === 'pointer') {\n      isHovered.current = true;\n    } else {\n      isHovered.current = false;\n    }\n    handleShow();\n  };\n\n  let onHoverEnd = () => {\n    if (trigger === 'focus') {\n      return;\n    }\n    // no matter how the trigger is left, we should close the tooltip\n    isFocused.current = false;\n    isHovered.current = false;\n    handleHide();\n  };\n\n  let onPressStart = () => {\n    // no matter how the trigger is pressed, we should close the tooltip\n    isFocused.current = false;\n    isHovered.current = false;\n    handleHide();\n  };\n\n  let onFocus = () => {\n    let isVisible = isFocusVisible();\n    if (isVisible) {\n      isFocused.current = true;\n      handleShow();\n    }\n  };\n\n  let onBlur = () => {\n    isFocused.current = false;\n    isHovered.current = false;\n    handleHide();\n  };\n\n  let {hoverProps} = useHover({\n    isDisabled,\n    onHoverStart,\n    onHoverEnd\n  });\n\n  let {pressProps} = usePress({onPressStart});\n\n  let {focusableProps} = useFocusable({\n    isDisabled,\n    onFocus,\n    onBlur\n  }, ref);\n\n  return {\n    triggerProps: {\n      'aria-describedby': state.isOpen ? tooltipId : undefined,\n      ...mergeProps(focusableProps, hoverProps, pressProps)\n    },\n    tooltipProps: {\n      id: tooltipId\n    }\n  };\n}\n"],"names":["$parcel$interopDefault","a","__esModule","default","useTooltip","props","domProps","filterDOMProps","labelable","tooltipProps","mergeProps","role","useTooltipTrigger","state","ref","isDisabled","trigger","tooltipId","useId","isHovered","useRef","isFocused","handleShow","current","open","handleHide","close","useEffect","onKeyDown","e","key","isOpen","document","addEventListener","removeEventListener","onHoverStart","getInteractionModality","onHoverEnd","onPressStart","onFocus","isVisible","isFocusVisible","onBlur","hoverProps","useHover","pressProps","usePress","focusableProps","useFocusable","triggerProps","undefined","id"],"version":3,"file":"main.js.map"}